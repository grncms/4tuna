<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.cacao.classting.classroom.ClassRoomMpp">

    <resultMap id="resultMapObj" type="com.cacao.classting.classroom.ClassRoom"></resultMap>

<select id="selectOneMemberClass" resultMap ="resultMapObj">
			select 
				ctcmName
			 from 
				ctClassMember

			where 1=1
				and ctcmSeq = #{ctcmSeq}
	</select>
	<select id="selectOneCount" resultType="Integer">
			SELECT 
				count(*)
				<include refid="selectCommon"/>		
	</select>
	
<update id="updateClass">
			UPDATE
				ctClassMember
			SET 
				ctcmName = #{ctcmName}
				,ctcmAlarmReplyNy = #{ctcmAlarmReplyNy}
				,ctcmAlarmReactionNy = #{ctcmAlarmReactionNy}
				
			WHERE 1=1
				AND ctcmSeq = #{ctcmSeq}
				
	</update>
<delete id="deleteMemberForcely">
		DELETE FROM 
			ctClassMember
		WHERE 1=1
			AND ctcmSeq = #{ctcmSeq}
	</delete>

<select id="selectListClass" resultMap="resultMapObj">
	SELECT 
			a.ctcsSeq
			,a.ctcsName
			,a.ctcsBelongto
			,a.ctcsCode
			,a.RegDateTime
			
	 FROM 
	 		ctClass	a
	WHERE 1=1
			and a.ctcsSeq = #{ctcsSeq}
	</select>


<select id="selectOneClass" resultMap ="resultMapObj">
			select 
				a.ctcsName
				,a.ctcsBelongto
				,a.ctcsDesc
				,a.regDateTime
				,a.ctcsCode
				,b.ctcmName
			 from 
				ctClass a
			LEFT JOIN ctClassMember b on a.ctcsSeq = b.ctcsSeq
			where 1=1
				and ctcsSeq = #{ctcsSeq}
	</select>

<delete id="deleteClass">
		DELETE FROM 
			ctClass
		WHERE 1=1
			AND ctcsSeq = #{ctcsSeq}
	</delete>
	


</mapper>