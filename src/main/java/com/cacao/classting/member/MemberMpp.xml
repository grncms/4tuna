<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.cacao.classting.member.MemberMpp">

<resultMap id="resultMapObj" type="com.cacao.classting.member.Member"></resultMap>
	
	<select id="selectOne" resultMap="resultMapObj">
		select
			mmAdminNy
			,mmDormacyNy
			,mmTeacherNy
			,mmGradeCd
			,mmName
			,mmId
			,mmPassword
			,mmPhoneNumber
			,mmGenderCd
			,mmDob
			,mmMemberEmail
			,mmTypeOfLoginCd
			,mmTermsOfserviceNy
			,mmEventNotificationNy
			,mmPersonalInfoNy
			,mmAlarmInvitationNy
			,mmAlarmReplyNy
			,mmDelNy
			,mmDesc
			,modDateTime
			,modDateTimeSvr
			,regDateTime
			,regDateTimeSvr
		FROM	
			Member
		WHERE 1=1
			AND mmSeq = #{mmSeq}
	</select>
	
	<insert id="insert">
		INSERT INTO Member(
			mmAdminNy
			,mmDormacyNy
			,mmTeacherNy
			,mmGradeCd
			,mmName
			,mmId
			,mmPassword
			,mmPhoneNumber
			,mmGenderCd
			,mmDob
			,mmMemberEmail
			,mmTypeOfLoginCd
			,mmTermsOfserviceNy
			,mmEventNotificationNy
			,mmPersonalInfoNy
			,mmDelNy
			,modDateTime
			,modDateTimeSvr
			,regDateTime
			,regDateTimeSvr
		) VALUES (
			0
			,0
			,#{mmTeacherNy}
			,#{mmGradeCd}
			,#{mmName}
			,#{mmId}
			,#{mmPassword}
			,#{mmPhoneNumber}
			,#{mmGenderCd}
			,#{mmDob}
			,#{mmMemberEmail}
			,#{mmTypeOfLoginCd}
			,#{mmTermsOfserviceNy}
			,#{mmEventNotificationNy}
			,#{mmPersonalInfoNy}
			,0
			,#{modDateTime}
			,#{modDateTimeSvr}
			,#{regDateTime}
			,#{regDateTimeSvr}
		)		
	</insert>	
	
	<update id="update">
		UPDATE Member SET 	
			mmTeacherNy = #{mmTeacherNy}
			,mmGradeCd = #{mmGradeCd}
			,mmName = #{mmName}
			,mmId = #{mmId}
			,mmPassword = #{mmPassword}
			,mmPhoneNumber = #{mmPhoneNumber}
			,mmDob = #{mmDob}
			,mmMemberEmail = #{mmMemberEmail}
			,mmDesc = #{mmDesc}
			,mmEventNotificationNy = #{mmEventNotificationNy}
			,mmAlarmInvitationNy = #{mmAlarmInvitationNy}
			,mmAlarmReplyNy = #{mmAlarmReplyNy}
			,modDateTime = #{modDateTime}
			,modDateTimeSvr = #{modDateTimeSvr}
		WHERE 1=1
			AND mmSeq=#{mmSeq}	
	</update>
	
	<select id="selectOneLogin" resultMap="resultMapObj">
		SELECT
			mmSeq
			,mmId
			,mmName
			,mmPassword
			,mmTeacherNy
		FROM
			Member
		WHERE 1=1 
			AND mmId = #{mmId}	
			AND mmPassword = #{mmPassword}	
	</select>
	

</mapper>